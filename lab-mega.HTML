<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Laboratorio CCNA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f8fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            background: linear-gradient(135deg, #0066a0 0%, #004d77 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            text-align: center;
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 15px;
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }
        
        h2 {
            font-size: 26px;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #0066a0;
            color: #0066a0;
        }
        
        h3 {
            font-size: 22px;
            margin: 25px 0 15px;
            color: #004d77;
        }
        
        h4 {
            font-size: 18px;
            margin: 20px 0 10px;
            color: #0066a0;
        }
        
        section {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
        }
        
        .objective {
            background-color: #e8f4fc;
            border-left: 5px solid #0066a0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 14px;
            text-align: left;
        }
        
        th {
            background-color: #0066a0;
            color: white;
            font-weight: 600;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        tr:hover {
            background-color: #f1f7fd;
        }
        
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 15px;
            line-height: 1.5;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }
        
        .command {
            color: #ffcc66;
        }
        
        .comment {
            color: #999;
            font-style: italic;
        }
        
        .config-section {
            margin-bottom: 30px;
            border-left: 4px solid #0066a0;
            padding-left: 20px;
        }
        
        .note {
            background-color: #fff9e6;
            border-left: 5px solid #ffcc00;
            padding: 18px;
            margin: 20px 0;
            border-radius: 4px;
        }
        
        .topology-image {
            text-align: center;
            margin: 30px 0;
        }
        
        .topology-image img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .caption {
            font-style: italic;
            color: #666;
            margin-top: 12px;
            text-align: center;
        }
        
        .nav-tabs {
            display: flex;
            list-style: none;
            margin-bottom: 20px;
            border-bottom: 2px solid #ddd;
        }
        
        .nav-tabs li {
            margin-right: 5px;
        }
        
        .nav-tabs a {
            display: block;
            padding: 12px 20px;
            text-decoration: none;
            color: #0066a0;
            background: #f1f1f1;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }
        
        .nav-tabs a:hover, .nav-tabs a.active {
            background: #0066a0;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 25px;
            color: #666;
            font-size: 16px;
            border-top: 1px solid #ddd;
        }
        
        .device-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .device-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-top: 4px solid #0066a0;
        }
        
        .device-card h4 {
            margin-top: 0;
            color: #0066a0;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            h1 {
                font-size: 26px;
            }
            
            h2 {
                font-size: 22px;
            }
            
            section {
                padding: 20px;
            }
            
            pre {
                font-size: 13px;
                padding: 15px;
            }
            
            .device-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>MEGA LABORATORIO CCNA</h1>
        <p class="subtitle">Data Center con Servicios Centralizados, Seguridad y VPN</p>
    </header>

    <section class="objective">
        <h2>Objetivo del Laboratorio</h2>
        <p>Implementar una infraestructura de red empresarial completa con las siguientes características:</p>
        <ul>
            <li>Cluster de Data Center con switches de capa 3 (3560) y capa 2 (2960)</li>
            <li>Servicios centralizados: NTP, AAA, Syslog, DHCP, DNS, HTTP</li>
            <li>Segmentación con VLANs (10, 11, 12, 13, 14)</li>
            <li>EtherChannel con LACP para redundancia y aumento de ancho de banda</li>
            <li>Seguridad con ACLs extendidas entre VLANs</li>
            <li>VPN Site-to-Site entre Data Center y Router remoto</li>
            <li>Configuración de prioridades STP para una topología estable</li>
        </ul>
    </section>

    <section>
        <h2>Topología y Dispositivos</h2>
        
        <div class="device-grid">
            <div class="device-card">
                <h4>Switches Capa 3</h4>
                <p>3 unidades (SWP1, SWP2, SWP3)</p>
                <p><strong>Modelo:</strong> Cisco 3560</p>
            </div>
            
            <div class="device-card">
                <h4>Switches Capa 2</h4>
                <p>8 unidades (SWA a SWH)</p>
                <p><strong>Modelo:</strong> Cisco 2960</p>
            </div>
            
            <div class="device-card">
                <h4>Switches Distribución</h4>
                <p>4 unidades (SWD1 a SWD4)</p>
            </div>
            
            <div class="device-card">
                <h4>Estaciones de Trabajo</h4>
                <p>6 PCs</p>
            </div>
            
            <div class="device-card">
                <h4>Servidores</h4>
                <ul>
                    <li>NTP (192.168.140.12)</li>
                    <li>AAA (192.168.140.11)</li>
                    <li>Syslog (192.168.140.11)</li>
                    <li>DHCP, DNS, HTTP (192.168.140.10)</li>
                </ul>
            </div>
        </div>
        
        <div class="topology-image">
            <div style="background-color: #eef5fd; padding: 40px; text-align: center; border-radius: 8px;">
                <img src="img/ccnalab1/image.png" alt="Vista Rack" style="width:50%;">
                <img src="img/ccnalab1/image2.jpg" alt="Diagrama Lógico" style="width:50%;">

            </div>
            <p class="caption">Figura 1: Topología completa del Data Center con servicios centralizados</p>
        </div>
    </section>


    <section>
        <h2> Tabla de VLANs</h2>
        <table>
            <tr>
                <th>VLAN</th><th>Nombre</th><th>Red / CIDR</th><th>Gateway</th><th>Servidor DHCP Relay</th>
            </tr>
            <tr><td>10</td><td>Contabilidad</td><td>192.168.10.0/24</td><td>192.168.10.1</td><td>192.168.140.10</td></tr>
            <tr><td>11</td><td>Marketing</td><td>192.168.11.0/24</td><td>192.168.11.1</td><td>192.168.140.10</td></tr>
            <tr><td>12</td><td>Ventas</td><td>192.168.12.0/24</td><td>192.168.12.1</td><td>192.168.140.10</td></tr>
            <tr><td>13</td><td>Administración</td><td>192.168.13.0/24</td><td>192.168.13.1</td><td>192.168.140.10</td></tr>
            <tr><td>14</td><td>Servidores</td><td>192.168.140.0/24</td><td>192.168.140.1</td><td>192.168.140.10</td></tr>
        </table>
    </section>

    <section>
        <h2>Configuración de EtherChannel</h2>
        <table>
            <tr>
                <th>EtherChannel</th>
                <th>Dispositivos</th>
                <th>Miembros (Puertos)</th>
                <th>Protocolo</th>
                <th>Modo LACP</th>
                <th>Función</th>
            </tr>
            <tr>
                <td>Po1</td>
                <td>SWP1 ↔ SWP2</td>
                <td>Gi0/1–Gi0/2, Gi0/1–Gi0/2</td>
                <td>LACP</td>
                <td>active/active</td>
                <td>Uplink de distribución al Core</td>
            </tr>
            <tr>
                <td>Po2</td>
                <td>SWP1 ↔ SWD1</td>
                <td>Fa0/1–Fa0/2, Fa0/1–Fa0/2</td>
                <td>LACP</td>
                <td>active/active</td>
                <td>Uplink redundante al Core</td>
            </tr>
            <tr>
                <td>Po3</td>
                <td>SWP1 ↔ SWD2</td>
                <td>Fa0/3–Fa0/4, Fa0/1–Fa0/2</td>
                <td>LACP</td>
                <td>active/active</td>
                <td>Conexión de respaldo entre switches de distribución</td>
            </tr>
            <tr>
                <td>Po4</td>
                <td>SWP2 ↔ SWD3</td>
                <td>Fa0/1–Fa0/2, Fa0/1–Fa0/2</td>
                <td>LACP</td>
                <td>active/active</td>
                <td>Uplink de distribución al Core</td>
            </tr>
            <tr>
                <td>Po5</td>
                <td>SWP2 ↔ SWD4</td>
                <td>Fa0/3–Fa0/4, Fa0/1–Fa0/2</td>
                <td>LACP</td>
                <td>active/active</td>
                <td>Uplink de distribución al Core</td>
            </tr>
        </table>
    </section>

    <section>
        <h2>Configuración de VLANs y SVIs</h2>
        
        <div class="config-section">
            <h3>Creación de VLANs en SWP1 (VTP Server)</h3>
            <pre><code><span class="command">vtp mode server</span>
<span class="command">vtp domain Servero.hn</span>
<span class="command">vlan 10</span>
<span class="command">name contabilidad</span>
<span class="command">vlan 11</span>
<span class="command">name marketing</span>
<span class="command">vlan 12</span>
<span class="command">name ventas</span>
<span class="command">vlan 13</span>
<span class="command">name administración</span>
<span class="command">vlan 14</span>
<span class="command">name servidores</span></code></pre>
        </div>

        <div class="config-section">
            <h3> RSTP – Prioridades</h3>
            <pre><code>! SWP1 – Root Primary
<span class="command">spanning-tree mode rapid-pvst</span>
<span class="command">spanning-tree vlan 1,10,11,12,13,14 priority 4096</span>

! SWP2 – Root Secondary
<span class="command">spanning-tree vlan 1,10,11,12,13,14 priority 8192</span>

! Distribution
<span class="command">spanning-tree vlan 1,10,11,12,13,14 priority 12288</span>

! Access
<span class="command">spanning-tree vlan 1,10,11,12,13,14 priority 61440</span></code></pre>
        </div>

        <div class="config-section">
            <h3>Configuración de SVIs en SWP1</h3>
            <pre><code><span class="command">interface vlan 10</span>
<span class="command">ip address 192.168.10.1 255.255.255.0</span>
<span class="command">ip helper-address 192.168.140.10</span>
<span class="command">interface vlan 11</span>
<span class="command">ip address 192.168.11.1 255.255.255.0</span>
<span class="command">ip helper-address 192.168.140.10</span>
<span class="command">interface vlan 12</span>
<span class="command">ip address 192.168.12.1 255.255.255.0</span>
<span class="command">ip helper-address 192.168.140.10</span>
<span class="command">interface vlan 13</span>
<span class="command">ip address 192.168.13.1 255.255.255.0</span>
<span class="command">ip helper-address 192.168.140.10</span>
<span class="command">interface vlan 14</span>
<span class="command">ip address 192.168.140.1 255.255.255.0</span>
<span class="command">ip helper-address 192.168.140.10</span></code></pre>
        </div>
    </section>

    <div class="config-section">
            <h3> Seguridad L2 – DHCP Snooping & DAI</h3>
            <pre><code><span class="command">ip dhcp snooping</span>
<span class="command">ip dhcp snooping vlan 10,11,12,13,14</span>
<span class="command">ip arp inspection vlan 10,11,12,13,14</span>
<span class="command">interface range g0/1-2</span>
<span class="command"> ip dhcp snooping trust</span>
<span class="command"> ip arp inspection trust</span></code></pre>
        </div>

        <div class="config-section">
            <h3> Port Security – Puertos de Acceso</h3>
            <pre><code><span class="command">interface range f0/1-24</span>
<span class="command"> switchport mode access</span>
<span class="command"> switchport port-security</span>
<span class="command"> switchport port-security maximum 2</span>
<span class="command"> switchport port-security violation restrict</span>
<span class="command"> switchport port-security mac-address sticky</span></code></pre>
        </div>

    <section>
        <h2>Configuración de ACLs Extendidas</h2>
        
        <div class="config-section">
            <h3>ACL para VLAN10 (Contabilidad)</h3>
            <pre><code><span class="command">ip access-list extended VLAN10_TO_OTHERS</span>
<span class="command">permit icmp 192.168.10.0 0.0.0.255 any</span>
<span class="command">permit udp 192.168.10.0 0.0.0.255 any eq 53</span>
<span class="command">permit tcp 192.168.10.0 0.0.0.255 192.168.13.0 0.0.0.255 eq 445</span>
<span class="command">deny ip 192.168.10.0 0.0.0.255 192.168.11.0 0.0.0.255</span>
<span class="command">deny ip 192.168.10.0 0.0.0.255 192.168.12.0 0.0.0.255</span>
<span class="command">permit ip 192.168.10.0 0.0.0.255 any</span></code></pre>
        </div>

        <div class="config-section">
            <h3>ACL para VLAN11 (Marketing)</h3>
            <pre><code><span class="command">ip access-list extended VLAN11_TO_OTHERS</span>
<span class="command">permit icmp 192.168.11.0 0.0.0.255 any</span>
<span class="command">permit udp 192.168.11.0 0.0.0.255 any eq 53</span>
<span class="command">permit tcp 192.168.11.0 0.0.0.255 192.168.12.0 0.0.0.255 eq 443</span>
<span class="command">permit tcp 192.168.11.0 0.0.0.255 192.168.13.0 0.0.0.255 eq 445</span>
<span class="command">deny ip 192.168.11.0 0.0.0.255 192.168.10.0 0.0.0.255</span>
<span class="command">permit ip 192.168.11.0 0.0.0.255 any</span></code></pre>
        </div>

        <div class="config-section">
            <h3>ACL para VLAN13 (Administración)</h3>
            <pre><code><span class="command">ip access-list extended VLAN13_TO_OTHERS</span>
<span class="command">permit ip 192.168.13.0 0.0.0.255 any</span></code></pre>
        </div>
    </section>

    <section>
        <h2>Configuración de Servicios Centralizados</h2>
        
        <div class="config-section">
            <h3>Configuración de Syslog</h3>
            <pre><code><span class="command">logging 192.168.140.11</span>
<span class="command">logging trap informational</span>
<span class="command">service timestamps log datetime msec</span></code></pre>
        </div>

        <div class="config-section">
            <h3>Configuración de NTP</h3>
            <pre><code><span class="command">ntp server 192.168.140.12</span></code></pre>
        </div>

        <div class="config-section">
            <h3>Configuración de AAA</h3>
            <pre><code><span class="command">aaa new-model</span>
<span class="command">tacacs-server host 192.168.140.11 key TacKey123</span>
<span class="command">radius-server host 192.168.1.150 auth-port 1812 acct-port 1813 key RadKey123</span>
<span class="command">aaa authentication login default group tacacs+ group radius local</span>
<span class="command">aaa authentication enable default group tacacs+ group radius enable</span>
<span class="command">aaa authorization exec default group tacacs+ local</span>
<span class="command">aaa authorization commands 15 default group tacacs+ local</span>
<span class="command">aaa accounting exec default start-stop group radius</span>
<span class="command">aaa accounting commands 15 default start-stop group tacacs+</span>
<span class="command">line vty 0 4</span>
<span class="command">login authentication default</span>
<span class="command">transport input ssh</span>
<span class="command">line console 0</span>
<span class="command">login authentication default</span></code></pre>
        </div>
    </section>

    <section>
        <h2>Configuración de VPN Site-to-Site</h2>
        
        <div class="config-section">
            <h3>Configuración en Router Data Center</h3>
            <pre><code><span class="command">access-list 110 permit ip 192.168.140.0 0.0.0.255 192.168.120.0 0.0.0.255</span>
<span class="command">access-list 110 permit ip 192.168.10.0 0.0.0.255 192.168.120.0 0.0.0.255</span>
<span class="command">crypto isakmp policy 10</span>
<span class="command">encryption aes 256</span>
<span class="command">authentication pre-share</span>
<span class="command">group 5</span>
<span class="command">crypto isakmp key vpnpa66 address 10.0.3.2</span>
<span class="command">crypto ipsec transform-set VPN-SET esp-aes esp-sha-hmac</span>
<span class="command">crypto map VPN-MAP 10 ipsec-isakmp</span>
<span class="command">set peer 10.0.3.2</span>
<span class="command">set transform-set VPN-SET</span>
<span class="command">match address 110</span>
<span class="command">interface GigabitEthernet 0/0/0</span>
<span class="command">crypto map VPN-MAP</span></code></pre>
        </div>

        <div class="config-section">
            <h3>Configuración en Router Remoto (RB)</h3>
            <pre><code><span class="command">access-list 110 permit ip 192.168.120.0 0.0.0.255 192.168.140.0 0.0.0.255</span>
<span class="command">access-list 110 permit ip 192.168.120.0 0.0.0.255 192.168.10.0 0.0.0.255</span>
<span class="command">crypto isakmp policy 10</span>
<span class="command">encryption aes 256</span>
<span class="command">authentication pre-share</span>
<span class="command">group 5</span>
<span class="command">crypto isakmp key vpnpa66 address 10.0.0.1</span>
<span class="command">crypto ipsec transform-set VPN-SET esp-aes esp-sha-hmac</span>
<span class="command">crypto map VPN-MAP 10 ipsec-isakmp</span>
<span class="command">set peer 10.0.0.1</span>
<span class="command">set transform-set VPN-SET</span>
<span class="command">match address 110</span>
<span class="command">interface gigabitEthernet 0/0/2</span>
<span class="command">crypto map VPN-MAP</span></code></pre>
        </div>
    </section>

    <section>
        <h2>Configuración de Prioridades STP</h2>
        <table>
            <tr>
                <th>Dispositivo</th>
                <th>Prioridad</th>
                <th>Rol en la topología</th>
            </tr>
            <tr>
                <td>SWP1</td>
                <td>4096</td>
                <td>Root primario para VLANs 1,10,11,12,13,14</td>
            </tr>
            <tr>
                <td>SWP2</td>
                <td>8192</td>
                <td>Root secundario</td>
            </tr>
            <tr>
                <td>SWD1-SWD4</td>
                <td>12288</td>
                <td>Switches de distribución</td>
            </tr>
            <tr>
                <td>SWA-SWH</td>
                <td>61440</td>
                <td>Switches de acceso</td>
            </tr>
        </table>
        
        <div class="config-section">
            <h3>Configuración de RSTP</h3>
            <pre><code><span class="command">spanning-tree mode rapid-pvst</span>
<span class="command">spanning-tree vlan 1,10,11,12,13,14 priority 4096</span> <span class="comment">! En SWP1</span></code></pre>
        </div>
    </section>

    <section>
        <h2>Verificación y Pruebas</h2>
        
        <div class="config-section">
            <h3>Verificación de VLANs</h3>
            <pre><code>Switch#<span class="command">show vlan brief</span>

VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
1    default                          active    Fa0/1, Fa0/2, Fa0/3, Fa0/4
10   contabilidad                     active    
11   marketing                        active    
12   ventas                           active    
13   administración                   active    
14   servidores                       active    
1002 fddi-default                     active    
1003 token-ring-default               active    
1004 fddinet-default                  active    
1005 trnet-default                    active</code></pre>
        </div>

        <div class="config-section">
            <h3>Verificación de EtherChannel</h3>
            <pre><code>Switch#<span class="command">show etherchannel summary</span>
Flags:  D - down        P - bundled in port-channel
        I - stand-alone s - suspended
        H - Hot-standby (LACP only)
        R - Layer3      S - Layer2
        U - in use      f - failed to allocate aggregator

        M - not in use, minimum links not met

Number of channel-groups in use: 5
Number of aggregators:           5

Group  Port-channel  Protocol    Ports
------+-------------+-----------+-----------------------------------------------
1      Po1(SU)         LACP      Gi0/1(P)   Gi0/2(P)   
2      Po2(SU)         LACP      Fa0/1(P)   Fa0/2(P)   
3      Po3(SU)         LACP      Fa0/3(P)   Fa0/4(P)   
4      Po4(SU)         LACP      Fa0/1(P)   Fa0/2(P)   
5      Po5(SU)         LACP      Fa0/3(P)   Fa0/4(P)</code></pre>
        </div>

        <div class="config-section">
            <h3>Verificación de VPN</h3>
            <pre><code>Router#<span class="command">show crypto isakmp sa</span>
IPv4 Crypto ISAKMP SA
dst             src             state          conn-id status
10.0.0.1        10.0.3.2        QM_IDLE           1001 ACTIVE

Router#<span class="command">show crypto ipsec sa</span>

interface: GigabitEthernet0/0/0
    Crypto map tag: VPN-MAP, local addr 10.0.0.1

   protected vrf: (none)
   local  ident (addr/mask/prot/port): (192.168.140.0/255.255.255.0/0/0)
   remote ident (addr/mask/prot/port): (192.168.120.0/255.255.255.0/0/0)
   current_peer 10.0.3.2 port 500
     PERMIT, flags={origin_is_acl,}
    #pkts encaps: 15, #pkts encrypt: 15, #pkts digest: 15
    #pkts decaps: 15, #pkts decrypt: 15, #pkts verify: 15</code></pre>
        </div>
    </section>

    <footer>
        <p>Documentación de Mega Laboratorio CCNA - Data Center con Servicios Centralizados</p>
        <p>© 2023 - Laboratorio de Redes</p>
    </footer>

    <script>
        // JavaScript para funcionalidad de pestañas
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.nav-tabs a');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remover clase active de todos los tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Agregar clase active al tab clickeado
                    this.classList.add('active');
                    
                    // Ocultar todos los contenidos de tabs
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Mostrar el contenido del tab clickeado
                    const target = this.getAttribute('href');
                    document.querySelector(target).classList.add('active');
                });
            });
        });
    </script>
</body>
</html>